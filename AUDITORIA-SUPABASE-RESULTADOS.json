{
  "timestamp": "2025-09-03T15:05:45.783Z",
  "status": "REGULAR",
  "credenciales": {
    "url_valida": true,
    "anon_key_presente": true,
    "service_role_presente": true,
    "database_url_valida": true,
    "direct_url_valida": true,
    "proyecto_id": "qfeyhaaxyemmnohqdele"
  },
  "conexion": {
    "http_status": "CONECTADO",
    "api_disponible": true,
    "auth_funcionando": true,
    "latencia": "< 100ms",
    "region": "us-east-2"
  },
  "tablas": {
    "total_esperadas": 9,
    "encontradas": 5,
    "faltantes": 4,
    "lista_encontradas": [
      "profiles",
      "properties",
      "favorites",
      "search_history",
      "messages"
    ],
    "lista_faltantes": [
      "conversations",
      "property_images",
      "user_limits",
      "admin_activity"
    ],
    "estructura_correcta": false,
    "estructuras": {
      "profiles": {
        "campos_requeridos": [
          "id",
          "email",
          "full_name",
          "avatar_url",
          "created_at",
          "updated_at"
        ],
        "tipos_correctos": true,
        "constraints": true
      },
      "properties": {
        "campos_requeridos": [
          "id",
          "title",
          "description",
          "price",
          "currency",
          "location",
          "user_id",
          "created_at"
        ],
        "tipos_correctos": true,
        "constraints": true,
        "indices": [
          "idx_properties_user_id",
          "idx_properties_location",
          "idx_properties_price"
        ]
      },
      "favorites": {
        "campos_requeridos": [
          "id",
          "user_id",
          "property_id",
          "created_at"
        ],
        "tipos_correctos": true,
        "constraints": true
      }
    }
  },
  "storage": {
    "buckets_esperados": 3,
    "buckets_encontrados": 2,
    "buckets_faltantes": 1,
    "lista_encontrados": [
      "property-images",
      "avatars"
    ],
    "lista_faltantes": [
      "documents"
    ],
    "configuracion_correcta": false,
    "politicas_storage": {
      "public_access": true,
      "authenticated_upload": true,
      "configuracion_correcta": true
    }
  },
  "politicas": {
    "rls_habilitado": true,
    "total_esperadas": 8,
    "encontradas": 2,
    "faltantes": 6,
    "lista_encontradas": [
      "profiles_select_policy",
      "properties_select_policy"
    ],
    "lista_faltantes": [
      "profiles_insert_policy",
      "profiles_update_policy",
      "properties_insert_policy",
      "properties_update_policy",
      "storage_public_access",
      "storage_authenticated_upload"
    ],
    "seguridad_correcta": false
  },
  "funciones": {
    "total_esperadas": 4,
    "encontradas": 2,
    "lista_encontradas": [
      "get_current_user_id",
      "is_owner"
    ],
    "funcionando_correctamente": true
  },
  "triggers": {
    "total_esperados": 3,
    "encontrados": 1,
    "lista_encontrados": [
      "update_profiles_updated_at"
    ],
    "funcionando_correctamente": true
  },
  "indices": {
    "total_esperados": 5,
    "encontrados": 2,
    "lista_encontrados": [
      "idx_properties_user_id",
      "idx_properties_location"
    ],
    "rendimiento_optimizado": false
  },
  "permisos": {
    "anon_role": {
      "select": true,
      "insert": false,
      "update": false,
      "delete": false
    },
    "authenticated_role": {
      "select": true,
      "insert": true,
      "update": true,
      "delete": true
    },
    "service_role": {
      "select": true,
      "insert": true,
      "update": true,
      "delete": true,
      "admin": true
    },
    "configuracion_correcta": true
  },
  "problemas": [
    {
      "tipo": "ALTO",
      "descripcion": "Faltan 4 tablas: conversations, property_images, user_limits, admin_activity",
      "solucion": "Ejecutar script SQL de creación de tablas"
    },
    {
      "tipo": "MEDIO",
      "descripcion": "Faltan 1 buckets: documents",
      "solucion": "Crear buckets faltantes en Supabase Storage"
    },
    {
      "tipo": "ALTO",
      "descripcion": "Faltan 6 políticas RLS",
      "solucion": "Ejecutar script SQL de políticas de seguridad"
    }
  ],
  "recomendaciones": [],
  "score": 69
}