{
  "timestamp": "2025-09-04T00:54:03.859Z",
  "supabaseUrl": "https://qfeyhaaxyemmnohqdele.supabase.co",
  "tokenValid": true,
  "connectionTest": true,
  "tablesTest": [
    {
      "name": "profiles",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "users",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "properties",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "payments",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "messages",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "conversations",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    },
    {
      "name": "favorites",
      "exists": false,
      "accessible": false,
      "status": 403,
      "error": "{\"code\":\"42501\",\"details\":null,\"hint\":null,\"message\":\"permission denied for schema public\"}"
    }
  ],
  "rlsTest": [
    {
      "name": "profiles_access_test",
      "table": "profiles",
      "description": "Testing acceso a perfiles con RLS",
      "rlsActive": true,
      "status": 401,
      "passed": true
    },
    {
      "name": "properties_public_access",
      "table": "properties",
      "description": "Testing acceso p√∫blico a propiedades",
      "rlsActive": true,
      "status": 401,
      "passed": true
    },
    {
      "name": "users_private_access",
      "table": "users",
      "description": "Testing acceso privado a usuarios",
      "rlsActive": true,
      "status": 401,
      "passed": true
    }
  ],
  "storageTest": [
    {
      "name": "property-images",
      "exists": true,
      "public": true
    },
    {
      "name": "avatars",
      "exists": true,
      "public": true
    },
    {
      "name": "documents",
      "exists": true,
      "public": false
    }
  ],
  "securityFunctions": [
    {
      "name": "is_property_owner",
      "exists": false,
      "accessible": false,
      "status": 404
    },
    {
      "name": "is_conversation_participant",
      "exists": false,
      "accessible": false,
      "status": 404
    },
    {
      "name": "check_user_permissions",
      "exists": false,
      "accessible": false,
      "status": 404
    }
  ],
  "overallScore": 41,
  "recommendations": [
    "üî¥ CR√çTICO: 7 tablas no accesibles: profiles, users, properties, payments, messages, conversations, favorites",
    "üü° MEDIO: 3 funciones de seguridad faltantes",
    "üî¥ CR√çTICO: Sistema requiere atenci√≥n inmediata"
  ]
}