{
  "resumen": "Repo con múltiples archivos duplicados, rutas inconsistentes y desajustes Prisma↔DB. Problemas críticos de build en Vercel por dependencias faltantes y configuraciones obsoletas.",
  "archivos_sospechosos": [
    "Backend/src/app/api/auth/register/route.ts",
    "Backend/src/app/api/auth/register/route-fixed.ts", 
    "Backend/src/app/api/auth/verify/route.ts",
    "Backend/src/app/api/auth/verify/route-fixed.ts",
    "Backend/src/app/api/properties/route.ts",
    "Backend/src/app/api/properties/route-fixed.ts",
    "Backend/src/app/api/properties/route-fixed-final.ts",
    "Backend/src/app/api/properties/route-clean.ts",
    "Backend/src/hooks/useAuth-final.ts",
    "Backend/src/hooks/useAuth-fixed.ts",
    "Backend/src/hooks/useAuth-safe.ts",
    "Backend/src/components/similar-properties.tsx",
    "Backend/src/components/similar-properties-fixed.tsx",
    "Backend/src/components/similar-properties-fixed-typescript.tsx",
    "Backend/prisma/seed.ts",
    "Backend/prisma/seed-fixed.ts",
    "Backend/prisma/seed-clean.ts",
    "Backend/prisma/seed-sqlite.ts",
    "Backend/prisma/seed-users.ts",
    "Backend/prisma/seed-community.ts",
    "Backend/prisma/seed-community-fixed.ts",
    "Backend/src/lib/email-service-simple.ts",
    "Backend/src/lib/email-service-enhanced.ts",
    "Backend/src/lib/email-service-fixed.ts",
    "Backend/src/lib/mercadopago.ts",
    "Backend/src/lib/mercadopago-enhanced.ts",
    "src/app/properties/page.tsx",
    "src/app/properties/properties-client.tsx",
    "src/app/publicar/page.tsx",
    "src/app/login/page.tsx",
    "src/app/register/page.tsx",
    "misiones-arrienda-v2/",
    "misionesarrienda1/"
  ],
  "errores_build_probables": [
    "Dependencia 'tsx' faltante para script db:seed en package.json",
    "Múltiples archivos route.ts duplicados causarán conflictos de rutas",
    "Imports rotos: useAuth hook tiene 3 versiones diferentes",
    "MercadoPago SDK puede fallar sin variables de entorno correctas",
    "Prisma schema usa PostgreSQL pero hay seeds para SQLite",
    "Archivos HTML estáticos (login.html, register.html) conflictuarán con rutas Next.js",
    "Configuración obsoleta experimental.serverActions en next.config.js ya corregida",
    "Supabase client/server imports inconsistentes entre archivos"
  ],
  "riesgos_prisma_db": [
    "Campo 'currency' en Property model puede causar errores de tipo en APIs",
    "Múltiples schemas: schema.prisma, schema-inmobiliarias.prisma, schema-alternative.prisma",
    "Seeds contradictorios: seed.ts vs seed-clean.ts vs seed-fixed.ts",
    "Modelo UserProfile con relación 1:1 a User puede fallar si no existe User",
    "Enums (CommunityRole, PetPref, etc.) no sincronizados con frontend",
    "Campo 'deposit' mencionado en reportes pero no existe en schema actual",
    "Relaciones Payment↔Property pueden fallar sin foreign key constraints adecuados"
  ],
  "rutas_afectadas": [
    "/api/auth/register",
    "/api/auth/verify", 
    "/api/properties",
    "/publicar",
    "/properties",
    "/login",
    "/register",
    "/dashboard",
    "/comunidad",
    "/api/payments/create-preference"
  ],
  "ambiguedades": [
    "Proyecto tiene 3 directorios raíz: Backend/, misiones-arrienda-v2/, misionesarrienda1/",
    "Archivos fuera de Backend/ (src/app/) sugieren estructura de proyecto inconsistente",
    "Más de 200 archivos de reportes .md indican desarrollo caótico sin limpieza",
    "Múltiples archivos .bat sugieren scripts de Windows no multiplataforma",
    "Configuración Supabase vs Prisma: unclear cuál es la DB principal"
  ]
}
